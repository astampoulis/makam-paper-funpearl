%% For double-blind review submission, w/o CCS and ACM Reference (max submission space)
\documentclass[acmsmall,review,anonymous]{acmart}\settopmatter{printfolios=true,printccs=false,printacmref=false}
%% For double-blind review submission, w/ CCS and ACM Reference
%\documentclass[acmsmall,review,anonymous]{acmart}\settopmatter{printfolios=true}
%% For single-blind review submission, w/o CCS and ACM Reference (max submission space)
%\documentclass[acmsmall,review]{acmart}\settopmatter{printfolios=true,printccs=false,printacmref=false}
%% For single-blind review submission, w/ CCS and ACM Reference
%\documentclass[acmsmall,review]{acmart}\settopmatter{printfolios=true}
%% For final camera-ready submission, w/ required CCS and ACM Reference

\usepackage[utf8]{inputenc}
\usepackage[greek,english]{babel}
\usepackage{booktabs}
\usepackage{subcaption}
\usepackage{alltt}
\usepackage{xspace}
\usepackage{mathpartir}
\usepackage{indentfirst}
\usepackage{hyperref}
\usepackage{color}
\usepackage{fancyvrb}

\bibliographystyle{shared/ACM-Reference-Format}
\citestyle{acmauthoryear}   %% For author/year citations

%% Journal information
%% Supplied to authors by publisher for camera-ready submission;
%% use defaults for review submission.
\acmJournal{PACMPL}
\acmVolume{1}
\acmNumber{CONF} % CONF = POPL or ICFP or OOPSLA
\acmArticle{1}
\acmYear{2018}
\acmMonth{1}
\acmDOI{} % \acmDOI{10.1145/nnnnnnn.nnnnnnn}
\startPage{1}

%% Copyright information
%% Supplied to authors (based on authors' rights management selection;
%% see authors.acm.org) by publisher for camera-ready submission;
%% use 'none' for review submission.
\setcopyright{none}
%\setcopyright{acmcopyright}
%\setcopyright{acmlicensed}
%\setcopyright{rightsretained}
%\copyrightyear{2018}           %% If different from \acmYear

\begin{document}

\title{Prototyping a Functional Language using Higher-Order Logic Programming}
\subtitle{A Functional Pearl on learning the ways of \lamprolog/Makam}

\author{Antonis Stampoulis}
\affiliation{
  \institution{Originate Inc.}
  \city{New York}
  \state{New York}
}
\email{antonis.stampoulis@gmail.com}

\author{Adam Chlipala}
\affiliation{
  \department{CSAIL}
  \institution{MIT}
  \city{Cambridge}
  \state{Massachusetts}
}
\email{adamc@csail.mit.edu}

%% -- Macro definitions
\newcommand\TODO[0]{\textbf{TODO}}
\newcommand\lamprolog[0]{\foreignlanguage{greek}{Î»}Prolog\xspace}
\newcommand\fomega[0]{F$\omega$\xspace}
\renewenvironment{verbatim}{\begin{quote}\begin{alltt}}{\end{alltt}\end{quote}}
\newenvironment{codequote}{\begin{quote}\begin{alltt}}{\end{alltt}\end{quote}}
\newcommand\hide[1]{}
\newcommand\tightlist[0]{\itemsep1pt\parskip0pt\parsep0pt}
\renewcommand\thesection{\textbf{CHAPTER \arabic{section}}}
\renewcommand\thesubsection{\textbf{SECTION \arabic{section}.\arabic{subsection}}}
\newcommand\hero[1]{\textit{#1}.}
\newcommand\heroSTUDENT[0]{\hero{HAGOP}}
\newcommand\heroADVISOR[0]{\hero{ROZA}}
\newcommand\heroAUDIENCE[0]{\hero{AUDIENCE}}
\newcommand\heroAUTHOR[0]{\hero{ANONYMOUS AUTHOR}}
\newenvironment{scenecomment}{\em\noindent}{}
\newcommand\identDialog[0]{\setlength{\leftskip}{1em}\setlength{\parindent}{-1em}}
\newcommand\identNormal[0]{\setlength{\leftskip}{0em}\setlength{\parindent}{0em}}
\newenvironment{normalident}{\identNormal}{\identDialog}

\definecolor{todo}{rgb}{0.75,0.00,0.00}
\newcommand\todo[1]{\textcolor{todo}{#1}}
\newcommand\heroTODO[0]{\textbf{\todo{TODO}}.}
\newcommand\heroNEEDFEEDBACK[0]{\textbf{\todo{Need Feedback}}:}

% =====
% used for highlighting from pandoc
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
\newenvironment{Shaded}{\begin{quote}}{\end{quote}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
\newcommand{\RegionMarkerTok}[1]{{#1}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
\newcommand{\NormalTok}[1]{{#1}}
% =====

\begin{abstract}
We demonstrate how the framework of \emph{higher-order logic programming}, as exemplified
in the \lamprolog language design, is a prime vehicle for rapid prototyping of
implementations for programming languages with sophisticated type systems. We present the
literate development of a type checker for a language with a number of complicated
features, culminating in a standard ML-style core with polymorphic algebraic datatypes and
type generalization, extended with dependently typed constructs that are generic over a
separately defined language of dependent indices. We add each new feature in sequence,
without requiring changes to existing code; as a result, we are able to extend both the ML
core and the universe of dependent indices independently from each other. Scaling the
higher-order logic programming approach to this setting required us to develop novel
approaches to challenges like complex variable binding patterns in object languages,
performing generic structural traversals of code, and reusing the unification procedure of
the metalanguage as much as possible. For our development, we make use of Makam, a new
implementation of \lamprolog, which we introduce in tutorial style as part of our
literate development.
\end{abstract}

%% 2012 ACM Computing Classification System (CSS) concepts
%% Generate at 'http://dl.acm.org/ccs/ccs.cfm'.
\begin{CCSXML}
<ccs2012>
<concept>
<concept_id>10011007.10011006.10011008</concept_id>
<concept_desc>Software and its engineering~General programming languages</concept_desc>
<concept_significance>500</concept_significance>
</concept>
<concept>
<concept_id>10003456.10003457.10003521.10003525</concept_id>
<concept_desc>Social and professional topics~History of programming languages</concept_desc>
<concept_significance>300</concept_significance>
</concept>
</ccs2012>
\end{CCSXML}

\ccsdesc[500]{Software and its engineering~General programming languages}
\ccsdesc[300]{Social and professional topics~History of programming languages}
%% End of generated code

% \keywords{keyword1, keyword2, keyword3}  %% \keywords are mandatory in final camera-ready submission

\maketitle

{
  \setlength{\parskip}{3pt}
  \renewcommand{\labelitemi}{\textendash}

  % Hanging Indent
  \identDialog{}

  % No Indent
  % \identNormal{}

  {\large \todo{Version identifier: \textbf{\input{generated/randomword}}}}
  
  \input{generated/01-introduction}
  
  \input{generated/02-stlc}
  
  \input{generated/03-bindmany}
  
  \input{generated/04-gadts}
  
  \input{generated/05-patterns}

  \input{generated/06-miniml}
  
  \input{generated/07-synonyms}
  
  \input{generated/08-metaml}
  
  \input{generated/09-typgen}

  \input{generated/10-summary}

  \identNormal{}
}

\bibliography{main}

\end{document}
